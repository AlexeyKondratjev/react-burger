{"version":3,"sources":["components/App/App.module.css","components/ModalOverlay/ModalOverlay.module.css","pages/MainPage.module.css","components/Loader/Loader.module.css","components/AppHeader/AppHeader.jsx","components/ModalOverlay/ModalOverlay.jsx","components/Modal/Modal.jsx","components/IngredientDetails/IngredientDetails.jsx","components/ProtectedRoute/ProtectedRoute.jsx","utils/constants.js","utils/cookie.js","utils/api.js","services/actions/auth.js","pages/LoginPage.jsx","utils/types.js","components/Ingredient/Ingredient.jsx","components/Loader/LoaderSvg.js","components/Loader/Loader.jsx","services/actions/modal.js","components/BurgerIngredients/BurgerIngredients.jsx","services/actions/constructorIngredients.js","components/BurgerConstructorItem/BurgerConstructorItem.jsx","services/actions/orderData.js","components/BurgerConstructor/BurgerConstructor.jsx","pages/MainPage.jsx","pages/RegistrationPage.jsx","pages/ForgotPasswordPage.jsx","pages/ResetPasswordPage.jsx","pages/ProfilePage.jsx","pages/NotFoundPage.jsx","pages/OrdersPage.jsx","services/actions/allIngredients.js","components/OrderDetails/OrderDetails.jsx","components/App/App.jsx","services/reducers/allIngredients.js","services/reducers/constructorIngredients.js","services/reducers/orderData.js","services/reducers/auth.js","services/reducers/modal.js","services/reducers/index.js","index.jsx","components/AppHeader/AppHeader.module.css","pages/ProfilePage.module.css","components/BurgerIngredients/BurgerIngredients.module.css","components/BurgerConstructor/BurgerConstructor.module.css","components/IngredientDetails/IngredientDetails.module.css","pages/NotFoundPage.module.css","components/Ingredient/Ingredient.module.css","pages/commonStyles.module.css","components/Modal/Modal.module.css","components/OrderDetails/OrderDetails.module.css","components/BurgerConstructorItem/BurgerConstructorItem.module.css"],"names":["module","exports","AppHeader","location","useLocation","className","styles","header","content","list","to","exact","link","activeClassName","activeLink","type","pathname","personalCab","ModalOverlay","onClick","modalOverlayStyles","overlay","Modal","children","onClose","title","useEffect","closeByEsc","event","key","document","addEventListener","removeEventListener","ReactDOM","createPortal","modalStyles","modalContainer","titleButtonGroup","closeButton","getElementById","IngredientDetails","id","useParams","useSelector","store","allIngredients","ingredientData","find","item","_id","src","image_large","alt","name","image","propertiesList","propertiesListItem","calories","proteins","fat","carbohydrates","ProtectedRoute","onlyUnAuth","rest","auth","user","from","state","API_PATH_INGREDIENTS","API_PATH_ORDERS","API_PATH_AUTH_SIGNUP","API_PATH_AUTH_SIGNIN","API_PATH_AUTH_SIGNOUT","API_PATH_AUTH_USER","API_PATH_TOKEN_UPDATE","API_PATH_PASSWORD_FORGOT","API_PATH_PASSWORD_RESET","USE_IN_VIEW_OPTIONS","threshold","setCookie","value","props","exp","expires","d","Date","setTime","getTime","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","cookie","getCookie","matches","match","RegExp","replace","decodeURIComponent","undefined","deleteCookie","checkReponse","res","ok","json","then","err","Promise","reject","fetchWithRefresh","url","options","fetch","message","updateTokenRequest","accessToken","refreshToken","split","localStorage","setItem","console","log","headers","authorization","ingredientsId","method","body","JSON","stringify","ingredients","email","password","token","getItem","code","REGISTRATION_USER_REQUEST","REGISTRATION_USER_SUCCESS","REGISTRATION_USER_FAILED","LOGIN_USER_REQUEST","LOGIN_USER_SUCCESS","LOGIN_USER_FAILED","LOGOUT_USER_REQUEST","LOGOUT_USER_SUCCESS","LOGOUT_USER_FAILED","FORGOT_PASSWORD_REQUEST","FORGOT_PASSWORD_SUCCESS","FORGOT_PASSWORD_FAILED","RESET_PASSWORD_REQUEST","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAILED","GET_USERDATA_REQUEST","GET_USERDATA_SUCCESS","GET_USERDATA_FAILED","REFRESH_USERDATA_REQUEST","REFRESH_USERDATA_SUCCESS","REFRESH_USERDATA_FAILED","UPDATE_TOKEN_REQUEST","UPDATE_TOKEN_SUCCESS","UPDATE_TOKEN_FAILED","registerUser","dispatch","signUpUserRequest","data","payload","catch","loginUser","signInUserRequest","logoutUser","signOutUserRequest","forgotPassword","forgotPasswordRequest","resetPassword","resetPasswordRequest","getUserData","getUserDataRequest","refreshUserData","refreshUserDataRequest","LoginPage","useDispatch","useState","emailValue","setEmailValue","passwordValue","setPasswordValue","commonStyles","main","container","form","onSubmit","e","preventDefault","placeholder","onChange","target","extraClass","htmlType","size","disabled","navigationBlock","navigationLink","PropTypes","string","number","Ingredient","bunItem","constructorIngredients","bun","stuffingItems","stuffing","counter","useMemo","forEach","useDrag","collect","monitor","opacity","isDragging","dragRef","background","ref","style","count","priceGroup","price","LoaderSvg","color","width","height","viewBox","xmlns","stroke","fill","fillRule","transform","strokeWidth","strokeOpacity","cx","cy","r","attributeName","dur","repeatCount","loaderSizes","small","medium","large","superLarge","Loader","wrapperStyleKey","SET_MODAL","RESET_MODAL","BurgerIngredients","React","current","setCurrent","allIngredientsRequest","getViewedIngredientData","useCallback","getFilteredIngredients","filterCondition","filter","map","useInView","bunListItemRef","bunListItemInView","sauceListItemRef","sauceListItemInView","mainListItemRef","mainListItemInView","inViewHandler","burgerIngredientsStyles","section","tabs","href","active","categoryList","ingredientsList","ADD_BUN_TO_CONSTRUCTOR","ADD_STUFFING_ELEMENT_TO_CONSTRUCTOR","DELETE_STUFFING_ELEMENT_FROM_CONSTRUCTOR","REORDER_STUFFING_ELEMENTS","CONSTRUCTOR_CLEANUP","BurgerConstructorItem","index","dndRef","useRef","useDrop","accept","hover","dragIndex","dropIndex","isHover","isOver","dropRef","burgerConstructorItemStyles","listItem","hoveredItem","text","thumbnail","handleClose","deleteItemHandle","GET_ORDER_DATA_REQUEST","GET_ORDER_DATA_SUCCESS","GET_ORDER_DATA_FAILED","getOrderData","getOrderDataRequest","BurgerConstructor","history","useHistory","totalPrice","Object","keys","length","reduce","sum","curr","drop","Math","random","toString","slice","chosenPositionsListScroll","burgerConstructorStyles","positionsList","hoveredList","lockedPosition","isLocked","chosenPositionsList","infoGroup","idArr","push","MainPage","DndProvider","backend","HTML5Backend","RegistrationPage","nameValue","setNameValue","ForgotPasswordPage","isPasswordRecoveryEmailReceived","ResetPasswordPage","isResetPasswordSuccess","resetCodeValue","setResetCodeValue","ProfilePage","loginValue","setLoginValue","navContainer","navigationLinkActive","onReset","icon","buttonGroup","NotFoundPage","h1","p1","p2","OrdersPage","GET_ALL_INGREDIENTS_REQUEST","GET_ALL_INGREDIENTS_SUCCESS","GET_ALL_INGREDIENTS_FAILED","getAllIngredients","getAllIngredientsRequest","success","items","OrderDetails","orderId","orderStatus","orderInfoMessage","orderDetailsStyles","App","modal","isOpened","orderData","orderDataRequest","appStyles","page","path","onIngredientModalClose","order","initialState","allIngredientsFailed","registrationRequest","registrationFailed","registrationFailedMessage","loginRequest","loginFailed","loginFailedMessage","logoutRequest","logoutFailed","logoutFailedMessage","forgotPasswordFailed","forgotPasswordMessage","resetPasswordFailed","resetPasswordMessage","getUserDataFailed","getUserDataMessage","refreshUserDataFailed","refreshUserDataMessage","updateTokenFailed","updateTokenMessage","rootReducer","combineReducers","action","reorderStuffing","splice","removeItem","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","createStore","render","StrictMode"],"mappings":"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","file":"static/js/main.ed9faf27.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"App_page__j3H6w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"ModalOverlay_overlay__1GF0D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"MainPage_main__1ZPg7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"superLarge\":\"Loader_superLarge__7ueN4\",\"large\":\"Loader_large__3fR2z\",\"medium\":\"Loader_medium__1-fIK\",\"small\":\"Loader_small__3lcu4\",\"wrapper_superLarge\":\"Loader_wrapper_superLarge__2Rl7u\",\"wrapper_large\":\"Loader_wrapper_large__sDRIM\",\"wrapper_medium\":\"Loader_wrapper_medium__1TGPs\",\"wrapper_small\":\"Loader_wrapper_small__FMgAb\"};","import React from 'react';\r\nimport styles from './AppHeader.module.css';\r\nimport { Logo, BurgerIcon, ListIcon, ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { Link, NavLink, useLocation } from 'react-router-dom';\r\n\r\nfunction AppHeader() {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <div className={styles.content}>\r\n\r\n        <nav>\r\n          <ul className={styles.list}>\r\n            <li className='mt-4 mr-7 mb-4 ml-5'>\r\n              <NavLink to='/' exact={true} className={styles.link} activeClassName={styles.activeLink}>\r\n                <BurgerIcon type={location.pathname === '/' ? 'primary' : 'secondary' } />\r\n                <p className='text text_type_main-default ml-2'>Конструктор</p>\r\n              </NavLink>\r\n            </li>\r\n            <li className='mt-4 mr-5 mb-4 ml-5'>\r\n              <NavLink to='/orders-feed' className={styles.link} activeClassName={styles.activeLink}>\r\n                <ListIcon type={location.pathname === '/orders-feed' ? 'primary' : 'secondary' } />\r\n                <p className='text text_type_main-default ml-2'>Лента заказов</p>\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n\r\n        <Link to='/'>\r\n          <Logo />\r\n        </Link>\r\n\r\n        <nav className={styles.personalCab}>\r\n          <ul className={styles.list}>\r\n            <li className='mt-4 mr-5 mb-4 ml-5'>\r\n              <NavLink to='/profile' className={styles.link} activeClassName={styles.activeLink}>\r\n                <ProfileIcon type={location.pathname === '/profile' ? 'primary' : 'secondary' } />\r\n                <p className='text text_type_main-default ml-2'>Личный кабинет</p>\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default AppHeader;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport modalOverlayStyles from './ModalOverlay.module.css';\r\n\r\n\r\n\r\nfunction ModalOverlay({onClick}) {\r\n  return (\r\n    <div className={modalOverlayStyles.overlay} onClick={onClick}>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nModalOverlay.propTypes = {\r\n  onClick: PropTypes.func.isRequired\r\n}\r\n\r\n\r\n\r\nexport default ModalOverlay;\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport modalStyles from './Modal.module.css';\r\nimport { CloseIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport ModalOverlay from '../ModalOverlay/ModalOverlay';\r\n\r\n\r\n\r\nfunction Modal({ children, onClose, title = \"\" }) {\r\n\r\n  useEffect(() => {\r\n    const closeByEsc = (event) => {\r\n      if (event.key === 'Escape') {\r\n        onClose();\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', closeByEsc);\r\n\r\n    return () => document.removeEventListener('keydown', closeByEsc);\r\n  }, []);\r\n\r\n\r\n\r\n  return ReactDOM.createPortal(\r\n    (\r\n      <>\r\n        <div className={modalStyles.modalContainer}>\r\n          <div className={`${modalStyles.titleButtonGroup} pt-10 pl-10 pr-10`}>\r\n            <h2 className='text text_type_main-large'>{title}</h2>\r\n            <button className={`${modalStyles.closeButton}`} onClick={onClose}>\r\n              <CloseIcon type=\"primary\" />\r\n            </button>\r\n          </div>\r\n          {children}\r\n        </div>\r\n        <ModalOverlay onClick={onClose} />\r\n      </>\r\n    ), document.getElementById('react-modals'));\r\n}\r\n\r\n\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  title: PropTypes.string\r\n}\r\n\r\n\r\n\r\nexport default Modal;\r\n","import styles from './IngredientDetails.module.css';\r\nimport { useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\n\r\n\r\n\r\nfunction IngredientDetails() {\r\n  const { id } = useParams();\r\n  const { allIngredients } = useSelector(store => store.allIngredients);\r\n  const ingredientData = allIngredients?.find(item => item._id === id);\r\n\r\n  if (!ingredientData) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.content}>\r\n      <img src={ingredientData.image_large} alt={ingredientData.name} className={styles.image} />\r\n      <h3 className=\"text text_type_main-medium mt-4\">{ingredientData.name}</h3>\r\n\r\n      <ul className={`${styles.propertiesList} mt-8`}>\r\n        <li className={`${styles.propertiesListItem} mr-5`}>\r\n          <p className=\"text text_type_main-default text_color_inactive\">Калории,&nbsp;ккал</p>\r\n          <p className=\"text text_type_digits-default text_color_inactive\">{ingredientData.calories}</p>\r\n        </li>\r\n        <li className={`${styles.propertiesListItem} mr-5`}>\r\n          <p className=\"text text_type_main-default text_color_inactive\">Белки,&nbsp;г</p>\r\n          <p className=\"text text_type_digits-default text_color_inactive\">{ingredientData.proteins}</p>\r\n        </li>\r\n        <li className={`${styles.propertiesListItem} mr-5`}>\r\n          <p className=\"text text_type_main-default text_color_inactive\">Жиры,&nbsp;г</p>\r\n          <p className=\"text text_type_digits-default text_color_inactive\">{ingredientData.fat}</p>\r\n        </li>\r\n        <li className={styles.propertiesListItem}>\r\n          <p className=\"text text_type_main-default text_color_inactive\">Углеводы,&nbsp;г</p>\r\n          <p className=\"text text_type_digits-default text_color_inactive\">{ingredientData.carbohydrates}</p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default IngredientDetails;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route, useLocation } from 'react-router-dom';\r\n\r\n\r\n\r\nexport function ProtectedRoute({ onlyUnAuth, children, ...rest }) {\r\n  const { user } = useSelector(store => store.auth);\r\n  const location = useLocation();\r\n\r\n  if (onlyUnAuth && user) {\r\n    const { from } = location.state || { from: { pathname: '/' } };\r\n\r\n    return (\r\n      <Route {...rest}>\r\n        <Redirect to={from} />\r\n      </Route>\r\n    );\r\n  }\r\n\r\n  if (!onlyUnAuth && !user) {\r\n    return (\r\n      <Route {...rest}>\r\n        <Redirect to={{ pathname: '/login', state: { from: location } }} />\r\n      </Route>\r\n    );\r\n  }\r\n\r\n  return <Route {...rest}>\r\n    {children}\r\n  </Route>;\r\n\r\n}\r\n","export const API_PATH_INGREDIENTS = 'https://norma.nomoreparties.space/api/ingredients';\r\nexport const API_PATH_ORDERS = 'https://norma.nomoreparties.space/api/orders';\r\n\r\nexport const API_PATH_AUTH_SIGNUP = 'https://norma.nomoreparties.space/api/auth/register';\r\nexport const API_PATH_AUTH_SIGNIN = 'https://norma.nomoreparties.space/api/auth/login';\r\nexport const API_PATH_AUTH_SIGNOUT = 'https://norma.nomoreparties.space/api/auth/logout';\r\nexport const API_PATH_AUTH_USER = 'https://norma.nomoreparties.space/api/auth/user';\r\n\r\nexport const API_PATH_TOKEN_UPDATE = 'https://norma.nomoreparties.space/api/auth/token';\r\n\r\nexport const API_PATH_PASSWORD_FORGOT = 'https://norma.nomoreparties.space/api/password-reset';\r\nexport const API_PATH_PASSWORD_RESET = 'https://norma.nomoreparties.space/api/password-reset/reset';\r\n\r\n\r\nexport const TOTAL_PRICE_INITIAL_STATE = { totalPrice: 0 };\r\nexport const ACTION_TYPE_SUM = 'sum';\r\nexport const ACTION_TYPE_RESET = 'reset';\r\nexport const INGREDIENT_TYPE_BUN = 'bun';\r\nexport const USE_IN_VIEW_OPTIONS = { threshold: 0.1 };\r\n","export function setCookie(name, value, props) {\r\n  props = props || {};\r\n  let exp = props.expires;\r\n\r\n  if (typeof exp == 'number' && exp) {\r\n    const d = new Date();\r\n    d.setTime(d.getTime() + exp * 1000);\r\n    exp = props.expires = d;\r\n  }\r\n\r\n  if (exp && exp.toUTCString) {\r\n    props.expires = exp.toUTCString();\r\n  }\r\n\r\n  value = encodeURIComponent(value);\r\n  let updatedCookie = name + '=' + value;\r\n\r\n  for (const propName in props) {\r\n    updatedCookie += '; ' + propName;\r\n    const propValue = props[propName];\r\n\r\n    if (propValue !== true) {\r\n      updatedCookie += '=' + propValue;\r\n    }\r\n  }\r\n\r\n  document.cookie = updatedCookie;\r\n}\r\n\r\nexport function getCookie(name) {\r\n  const matches = document.cookie.match(\r\n    new RegExp('(?:^|; )' + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)')\r\n  );\r\n\r\n  return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\n\r\nexport function deleteCookie(name) {\r\n  setCookie(name, null, { expires: -1 });\r\n}\r\n","import {\r\n  API_PATH_ORDERS,\r\n  API_PATH_INGREDIENTS,\r\n  API_PATH_AUTH_SIGNUP,\r\n  API_PATH_AUTH_SIGNIN,\r\n  API_PATH_AUTH_SIGNOUT,\r\n  API_PATH_AUTH_USER,\r\n  API_PATH_PASSWORD_FORGOT,\r\n  API_PATH_PASSWORD_RESET,\r\n  API_PATH_TOKEN_UPDATE\r\n} from '../utils/constants';\r\nimport { getCookie, setCookie } from '../utils/cookie';\r\n\r\n\r\n\r\nconst checkReponse = (res) => {\r\n  return res.ok ? res.json() : res.json().then((err) => Promise.reject(err));\r\n};\r\n\r\nconst fetchWithRefresh = async (url, options) => {\r\n  try {\r\n    const res = await fetch(url, options); //делаем запрос\r\n\r\n    return await checkReponse(res);\r\n  } catch (err) {\r\n    if (err.message === \"jwt expired\") {\r\n      const {accessToken, refreshToken } = await updateTokenRequest(); //обновляем токены\r\n\r\n      setCookie('token', accessToken.split('Bearer ')[1]);\r\n      localStorage.setItem('refreshToken', refreshToken);\r\n      console.log('Access and refresh tokens update successfully!');\r\n\r\n      options.headers.authorization = accessToken;\r\n\r\n      const res = await fetch(url, options); //вызываем перезапрос данных\r\n\r\n      return await checkReponse(res);\r\n    } else {\r\n      return Promise.reject(err);\r\n    }\r\n  }\r\n};\r\n\r\n\r\nexport async function getOrderDataRequest(ingredientsId) {\r\n  return await fetchWithRefresh(API_PATH_ORDERS, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ ingredients: ingredientsId })\r\n  })\r\n};\r\n\r\nexport async function getAllIngredientsRequest() {\r\n  return await fetchWithRefresh(API_PATH_INGREDIENTS);\r\n};\r\n\r\nexport async function signUpUserRequest(email, password, name) {\r\n  return await fetchWithRefresh(API_PATH_AUTH_SIGNUP, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email: email, password: password, name: name })\r\n  });\r\n};\r\n\r\nexport async function signInUserRequest(email, password) {\r\n  return await fetchWithRefresh(API_PATH_AUTH_SIGNIN, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email: email, password: password })\r\n  });\r\n};\r\n\r\nexport async function signOutUserRequest() {\r\n  return await fetchWithRefresh(API_PATH_AUTH_SIGNOUT, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ token: localStorage.getItem('refreshToken') })\r\n  });\r\n};\r\n\r\nexport async function forgotPasswordRequest(email) {\r\n  return await fetchWithRefresh(API_PATH_PASSWORD_FORGOT, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email: email })\r\n  });\r\n};\r\n\r\nexport async function resetPasswordRequest(password, code) {\r\n  return await fetchWithRefresh(API_PATH_PASSWORD_RESET, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ password: password, token: code })\r\n  });\r\n};\r\n\r\nexport async function getUserDataRequest() {\r\n  return await fetchWithRefresh(API_PATH_AUTH_USER, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      authorization: 'Bearer ' + getCookie('token')\r\n    }\r\n  });\r\n};\r\n\r\nexport async function refreshUserDataRequest(email, name, password) {\r\n  return await fetchWithRefresh(API_PATH_AUTH_USER, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      authorization: 'Bearer ' + getCookie('token')\r\n    },\r\n    body: JSON.stringify({ name: name, email: email, password: password })\r\n  });\r\n};\r\n\r\nexport async function updateTokenRequest() {\r\n  return await fetchWithRefresh(API_PATH_TOKEN_UPDATE, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ token: localStorage.getItem('refreshToken') })\r\n  });\r\n};\r\n","import {\r\n  signUpUserRequest,\r\n  signInUserRequest,\r\n  signOutUserRequest,\r\n  forgotPasswordRequest,\r\n  resetPasswordRequest,\r\n  getUserDataRequest,\r\n  refreshUserDataRequest,\r\n  updateTokenRequest\r\n} from '../../utils/api';\r\n\r\nexport const REGISTRATION_USER_REQUEST = 'REGISTRATION_USER_REQUEST';\r\nexport const REGISTRATION_USER_SUCCESS = 'REGISTRATION_USER_SUCCESS';\r\nexport const REGISTRATION_USER_FAILED = 'REGISTRATION_USER_FAILED';\r\n\r\nexport const LOGIN_USER_REQUEST = 'LOGIN_USER_REQUEST';\r\nexport const LOGIN_USER_SUCCESS = 'LOGIN_USER_SUCCESS';\r\nexport const LOGIN_USER_FAILED = 'LOGIN_USER_FAILED';\r\n\r\nexport const LOGOUT_USER_REQUEST = 'LOGOUT_USER_REQUEST';\r\nexport const LOGOUT_USER_SUCCESS = 'LOGOUT_USER_SUCCESS';\r\nexport const LOGOUT_USER_FAILED = 'LOGOUT_USER_FAILED';\r\n\r\nexport const FORGOT_PASSWORD_REQUEST = 'FORGOT_PASSWORD_REQUEST';\r\nexport const FORGOT_PASSWORD_SUCCESS = 'FORGOT_PASSWORD_SUCCESS';\r\nexport const FORGOT_PASSWORD_FAILED = 'FORGOT_PASSWORD_FAILED';\r\n\r\nexport const RESET_PASSWORD_REQUEST = 'RESET_PASSWORD_REQUEST';\r\nexport const RESET_PASSWORD_SUCCESS = 'RESET_PASSWORD_SUCCESS';\r\nexport const RESET_PASSWORD_FAILED = 'RESET_PASSWORD_FAILED';\r\n\r\nexport const GET_USERDATA_REQUEST = 'GET_USERDATA_REQUEST';\r\nexport const GET_USERDATA_SUCCESS = 'GET_USERDATA_SUCCESS';\r\nexport const GET_USERDATA_FAILED = 'GET_USERDATA_FAILED';\r\n\r\nexport const REFRESH_USERDATA_REQUEST = 'REFRESH_USERDATA_REQUEST';\r\nexport const REFRESH_USERDATA_SUCCESS = 'REFRESH_USERDATA_SUCCESS';\r\nexport const REFRESH_USERDATA_FAILED = 'REFRESH_USERDATA_FAILED';\r\n\r\nexport const UPDATE_TOKEN_REQUEST = 'UPDATE_TOKEN_REQUEST';\r\nexport const UPDATE_TOKEN_SUCCESS = 'UPDATE_TOKEN_SUCCESS';\r\nexport const UPDATE_TOKEN_FAILED = 'UPDATE_TOKEN_FAILED';\r\n\r\nexport function registerUser(email, password, name) {\r\n  return function (dispatch) {\r\n    dispatch({ type: REGISTRATION_USER_REQUEST });\r\n\r\n    signUpUserRequest(email, password, name)\r\n      .then(data => dispatch({ type: REGISTRATION_USER_SUCCESS, payload: data }))\r\n      .catch(err => dispatch({ type: REGISTRATION_USER_FAILED, payload: err }));\r\n  }\r\n};\r\n\r\nexport function loginUser(email, password) {\r\n  return function (dispatch) {\r\n    dispatch({ type: LOGIN_USER_REQUEST });\r\n\r\n    signInUserRequest(email, password)\r\n      .then(data => dispatch({ type: LOGIN_USER_SUCCESS, payload: data }))\r\n      .catch(err => dispatch({ type: LOGIN_USER_FAILED, payload: err }));\r\n  }\r\n};\r\n\r\nexport function logoutUser() {\r\n  return function (dispatch) {\r\n    dispatch({ type: LOGOUT_USER_REQUEST });\r\n\r\n    signOutUserRequest()\r\n      .then(data => dispatch({ type: LOGOUT_USER_SUCCESS, payload: data }))\r\n      .catch(err => dispatch({ type: LOGOUT_USER_FAILED, payload: err }));\r\n  }\r\n};\r\n\r\nexport function forgotPassword(email) {\r\n  return function (dispatch) {\r\n    dispatch({ type: FORGOT_PASSWORD_REQUEST });\r\n\r\n    forgotPasswordRequest(email)\r\n      .then(data => dispatch({ type: FORGOT_PASSWORD_SUCCESS, payload: data }))\r\n      .catch(err => dispatch({ type: FORGOT_PASSWORD_FAILED, payload: err }));\r\n  }\r\n};\r\n\r\nexport function resetPassword(password, code) {\r\n  return function (dispatch) {\r\n    dispatch({ type: RESET_PASSWORD_REQUEST });\r\n\r\n    resetPasswordRequest(password, code)\r\n      .then(data => dispatch({ type: RESET_PASSWORD_SUCCESS, payload: data }))\r\n      .catch(err => dispatch({ type: RESET_PASSWORD_FAILED, payload: err }));\r\n  }\r\n};\r\n\r\nexport function getUserData() {\r\n  return function (dispatch) {\r\n    dispatch({ type: GET_USERDATA_REQUEST });\r\n\r\n    getUserDataRequest()\r\n      .then(data => dispatch({ type: GET_USERDATA_SUCCESS, payload: data }))\r\n      .catch(err => dispatch({ type: GET_USERDATA_FAILED, payload: err }));\r\n  }\r\n};\r\n\r\nexport function refreshUserData(email, name, password) {\r\n  return function (dispatch) {\r\n    dispatch({ type: REFRESH_USERDATA_REQUEST });\r\n\r\n    refreshUserDataRequest(email, name, password)\r\n      .then(data => dispatch({ type: REFRESH_USERDATA_SUCCESS, payload: data }))\r\n      .catch(err => dispatch({ type: REFRESH_USERDATA_FAILED, payload: err }));\r\n  }\r\n};\r\n\r\nexport function updateToken() {\r\n  return function (dispatch) {\r\n    dispatch({ type: UPDATE_TOKEN_REQUEST });\r\n\r\n    updateTokenRequest()\r\n      .then(data => dispatch({ type: UPDATE_TOKEN_SUCCESS, payload: data }))\r\n      .catch(err => dispatch({ type: UPDATE_TOKEN_FAILED, payload: err }));\r\n  }\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\nimport commonStyles from './commonStyles.module.css';\r\nimport { Input, PasswordInput, Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { Link } from 'react-router-dom';\r\nimport { loginUser } from '../services/actions/auth';\r\n\r\n\r\n\r\nexport function LoginPage() {\r\n  const dispatch = useDispatch();\r\n\r\n  const [emailValue, setEmailValue] = useState('');\r\n  const [passwordValue, setPasswordValue] = useState('');\r\n\r\n  const onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch(loginUser(emailValue, passwordValue));\r\n  }\r\n\r\n\r\n  return (\r\n    <main className={commonStyles.main}>\r\n\r\n      <div className={commonStyles.container}>\r\n        <h1 className=\"text text_type_main-medium\">Вход</h1>\r\n\r\n        <form className={commonStyles.form} onSubmit={onFormSubmit}>\r\n          <Input\r\n            value={emailValue}\r\n            type={'email'}\r\n            placeholder={'E-mail'}\r\n            onChange={e => setEmailValue(e.target.value)}\r\n            extraClass='mt-6 mb-6'\r\n          />\r\n          <PasswordInput value={passwordValue} onChange={e => setPasswordValue(e.target.value)} />\r\n          <Button\r\n            htmlType=\"submit\"\r\n            type=\"primary\"\r\n            size=\"medium\"\r\n            extraClass='mt-6 mb-20'\r\n            disabled={!emailValue || !passwordValue} >\r\n            Войти\r\n          </Button>\r\n        </form>\r\n\r\n        <div className={`${commonStyles.navigationBlock} mb-4`}>\r\n          <p className='text text_type_main-default text_color_inactive'>\r\n            Вы - новый пользователь? <Link to=\"/register\" className={commonStyles.navigationLink}>Зарегистрироваться</Link>\r\n          </p>\r\n        </div>\r\n\r\n        <div className={`${commonStyles.navigationBlock}`}>\r\n          <p className='text text_type_main-default text_color_inactive'>\r\n            Забыли пароль? <Link className={commonStyles.navigationLink} to=\"/forgot-password\">Восстановить пароль</Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n    </main>\r\n  )\r\n}\r\n","import PropTypes from 'prop-types';\r\n\r\nconst ingredientType = {\r\n    name: PropTypes.string,\r\n    price: PropTypes.number,\r\n    image: PropTypes.string,\r\n    image_large: PropTypes.string,\r\n    calories: PropTypes.number,\r\n    proteins: PropTypes.number,\r\n    fat: PropTypes.number,\r\n    carbohydrates: PropTypes.number\r\n};\r\n\r\n/* {\r\n    data: PropTypes.shape({\r\n      name: PropTypes.string.isRequired,\r\n      price: PropTypes.number.isRequired,\r\n      image: PropTypes.string.isRequired,\r\n      image_large: PropTypes.string.isRequired,\r\n      calories: PropTypes.number.isRequired,\r\n      proteins: PropTypes.number.isRequired,\r\n      fat: PropTypes.number.isRequired,\r\n      carbohydrates: PropTypes.number.isRequired\r\n    }).isRequired\r\n  }; */\r\n\r\nexport default ingredientType;","import React, { useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Ingredient.module.css';\r\nimport { Counter, CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport ingredientType from '../../utils/types';\r\nimport { useDrag } from \"react-dnd\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\n\r\n\r\nfunction Ingredient({ data, onClick }) {\r\n  const location = useLocation();\r\n\r\n  const bunItem = useSelector(store => store.constructorIngredients.bun);\r\n  const stuffingItems = useSelector(store => store.constructorIngredients.stuffing);\r\n\r\n  const counter = useMemo(() =>\r\n    () => {\r\n      let res = 0;\r\n\r\n      if (data.type === 'bun') {\r\n        if (bunItem._id === data._id) {\r\n          res = 2;\r\n        }\r\n      } else {\r\n        stuffingItems.forEach(item => {\r\n          if (item._id === data._id) res++;\r\n        });\r\n      }\r\n\r\n      return res;\r\n    }, [bunItem, stuffingItems]);\r\n\r\n  const [{ opacity }, dragRef] = useDrag({\r\n    type: \"ingredients\",\r\n    item: data,\r\n    collect: (monitor) => ({\r\n      opacity: monitor.isDragging() ? 0.3 : 1\r\n    }),\r\n  });\r\n\r\n\r\n\r\n  return (\r\n    <Link to={{ pathname: `/ingredients/${data._id}`, state: { background: location } }} className={styles.link}>\r\n      <li\r\n        className={`${styles.content} ml-2`}\r\n        onClick={onClick}\r\n        ref={dragRef}\r\n        style={{ opacity }}\r\n      >\r\n        {(counter() !== 0) && <Counter count={counter()} size=\"default\" />}\r\n        <img src={data.image} alt={data.name} className={styles.image} />\r\n\r\n        <div className={`${styles.priceGroup} mt-2 mb-2`}>\r\n          <p className=\"text text_type_digits-default mr-2\">{data.price}</p>\r\n          <CurrencyIcon type=\"primary\" />\r\n        </div>\r\n\r\n        <p className='text text_type_main-default'>{data.name}</p>\r\n      </li>\r\n    </Link>\r\n  );\r\n}\r\n\r\n\r\n\r\nIngredient.propTypes = { data: PropTypes.shape(ingredientType).isRequired };\r\n\r\n\r\n\r\nexport default Ingredient;\r\n","export const LoaderSvg = ({ color = '#3C39EC', size }) => {\r\n  return (\r\n    <svg\r\n      width={size}\r\n      height={size}\r\n      viewBox=\"0 0 38 38\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      stroke={color}\r\n    >\r\n      <g fill=\"none\" fillRule=\"evenodd\">\r\n        <g transform=\"translate(1 1)\" strokeWidth=\"2\">\r\n          <circle strokeOpacity=\".5\" cx=\"18\" cy=\"18\" r=\"18\" />\r\n          <path d=\"M36 18c0-9.94-8.06-18-18-18\">\r\n            <animateTransform\r\n              attributeName=\"transform\"\r\n              type=\"rotate\"\r\n              from=\"0 18 18\"\r\n              to=\"360 18 18\"\r\n              dur=\"1s\"\r\n              repeatCount=\"indefinite\"\r\n            />\r\n          </path>\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n","import style from './Loader.module.css';\r\nimport { LoaderSvg } from './LoaderSvg';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst loaderSizes = {\r\n  small: 16,\r\n  medium: 24,\r\n  large: 40,\r\n  superLarge: 100\r\n};\r\n\r\n\r\nconst Loader = ({ size }) => {\r\n  const loaderColor = '#3C39EC';\r\n  const wrapperStyleKey = 'wrapper_' + size;\r\n\r\n  return (\r\n    <div className={style[wrapperStyleKey]}>\r\n      <LoaderSvg color={loaderColor} size={loaderSizes[size]} />\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\nLoader.propTypes = { size: PropTypes.string.isRequired };\r\n\r\n\r\n\r\nexport default Loader;\r\n","export const SET_MODAL = 'SET_MODAL';\r\nexport const RESET_MODAL = 'RESET_MODAL';\r\n","import React, { useEffect, useCallback } from 'react';\r\nimport burgerIngredientsStyles from './BurgerIngredients.module.css';\r\nimport { Tab } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport Ingredient from '../Ingredient/Ingredient';\r\nimport Loader from '../Loader/Loader';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useInView } from 'react-intersection-observer';\r\nimport { USE_IN_VIEW_OPTIONS } from '../../utils/constants';\r\nimport { SET_MODAL, RESET_MODAL } from '../../services/actions/modal';\r\n\r\n\r\n\r\nfunction BurgerIngredients() {\r\n  const dispatch = useDispatch();\r\n\r\n  const [current, setCurrent] = React.useState('bunTab');\r\n  const { allIngredients, allIngredientsRequest } = useSelector(store => store.allIngredients);\r\n\r\n  const getViewedIngredientData = useCallback(() => {\r\n    dispatch({ type: SET_MODAL, payload: { content: 'ingredient' } });\r\n  }, [dispatch]);\r\n\r\n  /*   const removeViewedIngredientData = useCallback(() => {\r\n      dispatch({ type: RESET_MODAL });\r\n    }, [dispatch]); */\r\n\r\n  const getFilteredIngredients = (data, filterCondition) => {\r\n    const filtered = data.filter(item => item.type === filterCondition);\r\n\r\n    return filtered.map(item =>\r\n      <Ingredient\r\n        data={item}\r\n        key={item._id}\r\n        onClick={() => { getViewedIngredientData() }}\r\n      />);\r\n  };\r\n\r\n\r\n  const [bunListItemRef, bunListItemInView] = useInView(USE_IN_VIEW_OPTIONS);\r\n  const [sauceListItemRef, sauceListItemInView] = useInView(USE_IN_VIEW_OPTIONS);\r\n  const [mainListItemRef, mainListItemInView] = useInView(USE_IN_VIEW_OPTIONS);\r\n\r\n  const inViewHandler = () => {\r\n    switch (true) {\r\n      case bunListItemInView: {\r\n        setCurrent('bunTab');\r\n        break;\r\n      }\r\n      case sauceListItemInView: {\r\n        setCurrent('sauceTab');\r\n        break;\r\n      }\r\n      case mainListItemInView: {\r\n        setCurrent('mainTab');\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    inViewHandler();\r\n  }, [bunListItemInView, sauceListItemInView, mainListItemInView]);\r\n\r\n  return (\r\n    <section className={burgerIngredientsStyles.section}>\r\n\r\n      <h1 className='text text_type_main-large mt-10'>Соберите бургер</h1>\r\n\r\n      <div className={`${burgerIngredientsStyles.tabs} mt-5 mb-10`}>\r\n        <a href='#bunListItem' className={burgerIngredientsStyles.link}>\r\n          <Tab value='bunTab' active={current === 'bunTab'} onClick={setCurrent}>\r\n            Булки\r\n          </Tab>\r\n        </a>\r\n        <a href='#sauceListItem' className={burgerIngredientsStyles.link}>\r\n          <Tab value='sauceTab' active={current === 'sauceTab'} onClick={setCurrent}>\r\n            Соусы\r\n          </Tab>\r\n        </a>\r\n        <a href='#mainListItem' className={burgerIngredientsStyles.link}>\r\n          <Tab value='mainTab' active={current === 'mainTab'} onClick={setCurrent}>\r\n            Начинки\r\n          </Tab>\r\n        </a>\r\n      </div>\r\n\r\n      {allIngredientsRequest ? (<Loader size='superLarge' />)\r\n        : (\r\n          <ul className={burgerIngredientsStyles.categoryList} >\r\n            <li id='bunListItem' ref={bunListItemRef}>\r\n              <h2 className='text text_type_main-medium'>Булки</h2>\r\n              <ul className={`${burgerIngredientsStyles.ingredientsList} mt-6 mb-10`}>\r\n                {getFilteredIngredients(allIngredients, 'bun')}\r\n              </ul>\r\n            </li>\r\n            <li id='sauceListItem' ref={sauceListItemRef}>\r\n              <h2 className='text text_type_main-medium'>Соусы</h2>\r\n              <ul className={`${burgerIngredientsStyles.ingredientsList} mt-6 mb-10`}>\r\n                {getFilteredIngredients(allIngredients, 'sauce')}\r\n              </ul>\r\n            </li>\r\n            <li id='mainListItem' ref={mainListItemRef}>\r\n              <h2 className=\"text text_type_main-medium\">Начинки</h2>\r\n              <ul className={`${burgerIngredientsStyles.ingredientsList} mt-6 mb-10`}>\r\n                {getFilteredIngredients(allIngredients, 'main')}\r\n              </ul>\r\n            </li>\r\n          </ul>\r\n        )}\r\n    </section>\r\n  );\r\n}\r\n\r\n\r\nexport default BurgerIngredients;\r\n","export const ADD_BUN_TO_CONSTRUCTOR = 'ADD_BUN_TO_CONSTRUCTOR';\r\nexport const ADD_STUFFING_ELEMENT_TO_CONSTRUCTOR = 'ADD_STUFFING_ELEMENT_TO_CONSTRUCTOR';\r\nexport const DELETE_STUFFING_ELEMENT_FROM_CONSTRUCTOR = 'DELETE_STUFFING_ELEMENT_FROM_CONSTRUCTOR';\r\nexport const REORDER_STUFFING_ELEMENTS = 'REORDER_STUFFING_ELEMENTS';\r\nexport const CONSTRUCTOR_CLEANUP = 'CONSTRUCTOR_CLEANUP';\r\n","import React, { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ConstructorElement, DragIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport burgerConstructorItemStyles from './BurgerConstructorItem.module.css';\r\nimport ingredientType from '../../utils/types';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport {\r\n  DELETE_STUFFING_ELEMENT_FROM_CONSTRUCTOR,\r\n  REORDER_STUFFING_ELEMENTS\r\n} from '../../services/actions/constructorIngredients';\r\n\r\n\r\n\r\nfunction BurgerConstructorItem({ data, index }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const { id } = data;\r\n  const dndRef = useRef(null);\r\n\r\n  const deleteItemHandle = (id) => {\r\n    dispatch({ type: DELETE_STUFFING_ELEMENT_FROM_CONSTRUCTOR, id });\r\n  };\r\n\r\n  const [{ opacity }, dragRef] = useDrag({\r\n    type: \"ingredient\",\r\n    item: { id, index },\r\n    collect: (monitor) => ({\r\n      opacity: monitor.isDragging() ? 0.3 : 1\r\n    })\r\n  });\r\n\r\n  const [{ isHover }, dropRef] = useDrop({\r\n    accept: \"ingredient\",\r\n    hover(data) {\r\n      if (!dndRef.current) return;\r\n\r\n      const dragIndex = data.index;\r\n      const dropIndex = index;\r\n\r\n      dispatch({ type: REORDER_STUFFING_ELEMENTS, dragIndex, dropIndex});\r\n\r\n      data.index = dropIndex;\r\n    },\r\n    collect: (monitor) => ({\r\n      isHover: monitor.isOver(),\r\n    }),\r\n  });\r\n\r\n  dragRef(dropRef(dndRef));\r\n\r\n\r\n\r\n  return (\r\n    <li className={`${burgerConstructorItemStyles.listItem} ${isHover ? burgerConstructorItemStyles.hoveredItem : ''} mb-4 mr-2`}\r\n      ref={dndRef}\r\n      style={{opacity}}\r\n    >\r\n      <DragIcon type=\"primary\" />\r\n      <ConstructorElement text={data.name} price={data.price} thumbnail={data.image} handleClose={() => deleteItemHandle(id)} />\r\n    </li>\r\n  );\r\n}\r\n\r\n\r\n\r\nBurgerConstructorItem.propTypes = {\r\n  data: PropTypes.shape(ingredientType),\r\n  index: PropTypes.number\r\n};\r\n\r\n\r\n\r\nexport default BurgerConstructorItem;\r\n","import { getOrderDataRequest } from '../../utils/api';\r\n\r\nexport const GET_ORDER_DATA_REQUEST = 'GET_ORDER_DATA_REQUEST';\r\nexport const GET_ORDER_DATA_SUCCESS = 'GET_ORDER_DATA_SUCCESS';\r\nexport const GET_ORDER_DATA_FAILED = 'GET_ORDER_DATA_FAILED';\r\n\r\n\r\nexport function getOrderData(ingredientsId) {\r\n  return function (dispatch) {\r\n    dispatch({ type: GET_ORDER_DATA_REQUEST });\r\n\r\n    getOrderDataRequest(ingredientsId)\r\n      .then(data =>\r\n        dispatch({\r\n          type: GET_ORDER_DATA_SUCCESS,\r\n          payload: data\r\n        }))\r\n      .catch(err => {\r\n        console.log(err);\r\n        dispatch({ type: GET_ORDER_DATA_FAILED });\r\n      });\r\n  }\r\n};\r\n","import React, { useMemo } from 'react';\r\nimport burgerConstructorStyles from './BurgerConstructor.module.css';\r\nimport { ConstructorElement, Button, CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport BurgerConstructorItem from '../BurgerConstructorItem/BurgerConstructorItem';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  ADD_BUN_TO_CONSTRUCTOR,\r\n  ADD_STUFFING_ELEMENT_TO_CONSTRUCTOR\r\n} from '../../services/actions/constructorIngredients';\r\nimport { getOrderData } from '../../services/actions/orderData';\r\nimport { useDrop } from \"react-dnd\";\r\nimport { SET_MODAL } from '../../services/actions/modal';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\n\r\nfunction BurgerConstructor() {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const { user } = useSelector(store => store.auth);\r\n\r\n  const bunItem = useSelector(store => store.constructorIngredients.bun);\r\n  const stuffingItems = useSelector(store => store.constructorIngredients.stuffing);\r\n  const ingredientsId = useMemo(\r\n    () => [bunItem, ...stuffingItems, bunItem].map(item => item ? item._id : ''),\r\n    [bunItem, stuffingItems]\r\n  );\r\n\r\n  const getOrderDataFromBackend = (idArr) => {\r\n    if (!user) {\r\n      history.push('/login');\r\n    } else {\r\n      dispatch(getOrderData(idArr));\r\n      dispatch({ type: SET_MODAL, payload: { content: 'order' } });\r\n    }\r\n  };\r\n\r\n  const totalPrice = useMemo(() => {\r\n    return (\r\n      (Object.keys(bunItem).length > 0 ? bunItem.price * 2 : 0) +\r\n      stuffingItems.reduce((sum, curr) => sum + curr.price, 0)\r\n    );\r\n  }, [bunItem, stuffingItems]);\r\n\r\n  const [{ isHover }, dropRef] = useDrop({\r\n    accept: \"ingredients\",\r\n    drop(item) {\r\n      item.type === \"bun\"\r\n        ? dispatch({ type: ADD_BUN_TO_CONSTRUCTOR, payload: item })\r\n        : dispatch({\r\n          type: ADD_STUFFING_ELEMENT_TO_CONSTRUCTOR,\r\n          payload: {\r\n            ...item,\r\n            id: Math.random().toString().slice(2)\r\n          }\r\n        });\r\n    },\r\n    collect: (monitor) => ({\r\n      isHover: monitor.isOver(),\r\n    }),\r\n  });\r\n\r\n  const chosenPositionsListScroll = stuffingItems && (stuffingItems.length >= 5) ?\r\n    'chosenPositionsList_overflowY_scroll' :\r\n    'chosenPositionsList_overflowY_hidden';\r\n\r\n\r\n\r\n  return (\r\n    <div className={`${burgerConstructorStyles.section} pt-25`}>\r\n\r\n      <ul\r\n        className={`${burgerConstructorStyles.positionsList} ${isHover ? burgerConstructorStyles.hoveredList : ''}`}\r\n        ref={dropRef}\r\n      >\r\n\r\n        <li className={`${burgerConstructorStyles.lockedPosition} ml-8 mr-4 mb-4`}>\r\n          {Object.keys(bunItem).length > 0 &&\r\n            <ConstructorElement\r\n              key={bunItem._id}\r\n              type=\"top\"\r\n              isLocked={true}\r\n              text={`${bunItem.name} (верх)`}\r\n              price={bunItem.price}\r\n              thumbnail={bunItem.image} />}\r\n        </li>\r\n\r\n        <li>\r\n          <ul className={`${burgerConstructorStyles.chosenPositionsList} ${burgerConstructorStyles[chosenPositionsListScroll]}`}>\r\n            {stuffingItems && stuffingItems.map((item, index) =>\r\n              <BurgerConstructorItem data={item} index={index} key={item.id} />\r\n            )}\r\n          </ul>\r\n        </li>\r\n\r\n        <li className={`${burgerConstructorStyles.lockedPosition} mt-4 ml-8 mr-4`}>\r\n          {Object.keys(bunItem).length > 0 &&\r\n            <ConstructorElement\r\n              key={bunItem._id}\r\n              type=\"bottom\"\r\n              isLocked={true}\r\n              text={`${bunItem.name} (низ)`}\r\n              price={bunItem.price}\r\n              thumbnail={bunItem.image} />\r\n          }\r\n        </li>\r\n\r\n      </ul>\r\n\r\n      <div className={`${burgerConstructorStyles.infoGroup} mt-10 mr-4`}>\r\n        <div className={`${burgerConstructorStyles.priceGroup} mr-10`}>\r\n          <p className='text text_type_digits-medium mr-5'>{totalPrice}</p>\r\n          <CurrencyIcon type=\"primary\" />\r\n        </div>\r\n\r\n        <Button\r\n          htmlType=\"button\"\r\n          type=\"primary\"\r\n          size=\"large\"\r\n          disabled={(Object.keys(bunItem).length > 0) | (Object.keys(stuffingItems).length > 0) ? false : true}\r\n          onClick={() => { getOrderDataFromBackend(ingredientsId) }}>\r\n          Оформить заказ\r\n        </Button>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BurgerConstructor;\r\n","import React from 'react';\r\nimport styles from './MainPage.module.css';\r\nimport BurgerIngredients from '../components/BurgerIngredients/BurgerIngredients';\r\nimport BurgerConstructor from '../components/BurgerConstructor/BurgerConstructor';\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\n\r\n\r\nexport function MainPage() {\r\n  return (\r\n    <DndProvider backend={HTML5Backend}>\r\n      <main className={styles.main}>\r\n        <BurgerIngredients />\r\n        <BurgerConstructor />\r\n      </main>\r\n    </DndProvider>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\nimport commonStyles from './commonStyles.module.css';\r\nimport { Input, PasswordInput, Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { Link } from 'react-router-dom';\r\nimport { registerUser } from '../services/actions/auth';\r\n\r\n\r\n\r\nexport function RegistrationPage() {\r\n  const dispatch = useDispatch();\r\n\r\n  const [nameValue, setNameValue] = useState('');\r\n  const [emailValue, setEmailValue] = useState('');\r\n  const [passwordValue, setPasswordValue] = useState('');\r\n\r\n  const onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch(registerUser(emailValue, passwordValue, nameValue));\r\n  }\r\n\r\n  return (\r\n    <main className={commonStyles.main}>\r\n\r\n      <div className={commonStyles.container}>\r\n        <h1 className=\"text text_type_main-medium\">Регистрация</h1>\r\n\r\n        <form className={commonStyles.form} onSubmit={onFormSubmit}>\r\n          <Input\r\n            value={nameValue}\r\n            type={'text'}\r\n            placeholder={'Имя'}\r\n            onChange={e => setNameValue(e.target.value)}\r\n            extraClass='mt-6'\r\n          />\r\n          <Input\r\n            value={emailValue}\r\n            type={'email'}\r\n            placeholder={'E-mail'}\r\n            onChange={e => setEmailValue(e.target.value)}\r\n            extraClass='mt-6 mb-6'\r\n          />\r\n          <PasswordInput value={passwordValue} onChange={e => setPasswordValue(e.target.value)} />\r\n          <Button\r\n            htmlType=\"submit\"\r\n            type=\"primary\"\r\n            size=\"medium\"\r\n            extraClass='mt-6 mb-20'\r\n            disabled={!nameValue || !emailValue || !passwordValue} >\r\n            Зарегистрироваться\r\n          </Button>\r\n        </form>\r\n\r\n        <div className={`${commonStyles.navigationBlock} mb-4`}>\r\n          <p className='text text_type_main-default text_color_inactive'>\r\n            Уже зарегистрированы? <Link to=\"/login\" className={commonStyles.navigationLink}>Войти</Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n    </main>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport commonStyles from './commonStyles.module.css';\r\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { Link, Redirect, useLocation } from 'react-router-dom';\r\nimport { forgotPassword } from '../services/actions/auth';\r\n\r\n\r\nexport function ForgotPasswordPage() {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n\r\n  const { isPasswordRecoveryEmailReceived } = useSelector(store => store.auth);\r\n\r\n  const [emailValue, setEmailValue] = useState('');\r\n\r\n  const onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch(forgotPassword(emailValue));\r\n  }\r\n\r\n   if (isPasswordRecoveryEmailReceived) {\r\n     return (<Redirect to={{ pathname: '/reset-password', state: {from: location} }} />);\r\n   }\r\n\r\n  return (\r\n    <main className={commonStyles.main}>\r\n\r\n      <div className={commonStyles.container}>\r\n        <h1 className=\"text text_type_main-medium\">Восстановление пароля</h1>\r\n\r\n        <form className={commonStyles.form} onSubmit={onFormSubmit}>\r\n          <Input\r\n            value={emailValue}\r\n            type={'email'}\r\n            placeholder={'Укажите e-mail'}\r\n            onChange={e => setEmailValue(e.target.value)}\r\n            extraClass='mt-6'\r\n          />\r\n          <Button\r\n            htmlType=\"submit\"\r\n            type=\"primary\"\r\n            size=\"medium\"\r\n            extraClass='mt-6 mb-20'\r\n            disabled={!emailValue} >\r\n            Восстановить\r\n          </Button>\r\n        </form>\r\n\r\n        <div className={`${commonStyles.navigationBlock} mb-4`}>\r\n          <p className='text text_type_main-default text_color_inactive'>\r\n            Вспомнили пароль? <Link to=\"/login\" className={commonStyles.navigationLink}>Войти</Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n    </main>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport commonStyles from './commonStyles.module.css';\r\nimport { Input, PasswordInput, Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { Link, Redirect, useLocation } from 'react-router-dom';\r\nimport { resetPassword } from '../services/actions/auth';\r\n\r\n\r\nexport function ResetPasswordPage() {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n\r\n  const { isResetPasswordSuccess } = useSelector(store => store.auth);\r\n\r\n  const [passwordValue, setPasswordValue] = useState('');\r\n  const [resetCodeValue, setResetCodeValue] = useState('');\r\n\r\n  const onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch(resetPassword(passwordValue, resetCodeValue));\r\n  }\r\n\r\n  if (location.state?.from?.pathname !== '/forgot-password') {\r\n    return <Redirect to='/forgot-password' />;\r\n  };\r\n\r\n  if (isResetPasswordSuccess) {\r\n    return (<Redirect to={'/login'} />);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <main className={commonStyles.main}>\r\n\r\n      <div className={commonStyles.container}>\r\n        <h1 className=\"text text_type_main-medium\">Восстановление пароля</h1>\r\n\r\n        <form className={commonStyles.form} onSubmit={onFormSubmit}>\r\n          <PasswordInput\r\n            value={passwordValue}\r\n            onChange={e => setPasswordValue(e.target.value)}\r\n            placeholder={'Введите новый пароль'}\r\n            extraClass='mt-6'\r\n          />\r\n          <Input\r\n            value={resetCodeValue}\r\n            type={'text'}\r\n            placeholder={'Введите код из письма'}\r\n            onChange={e => setResetCodeValue(e.target.value)}\r\n            extraClass='mt-6'\r\n          />\r\n          <Button\r\n            htmlType=\"submit\"\r\n            type=\"primary\"\r\n            size=\"medium\"\r\n            extraClass='mt-6 mb-20'\r\n            disabled={!passwordValue || !resetCodeValue} >\r\n            Сохранить\r\n          </Button>\r\n        </form>\r\n\r\n        <div className={`${commonStyles.navigationBlock} mb-4`}>\r\n          <p className='text text_type_main-default text_color_inactive'>\r\n            Вспомнили пароль? <Link to=\"/login\" className={commonStyles.navigationLink}>Войти</Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n    </main>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport styles from './ProfilePage.module.css';\r\nimport commonStyles from './commonStyles.module.css';\r\nimport { Input, PasswordInput, Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { logoutUser, refreshUserData } from '../services/actions/auth';\r\n\r\n\r\n\r\nexport function ProfilePage() {\r\n  const dispatch = useDispatch();\r\n\r\n  const { name, email } = useSelector(store => store.auth.user);\r\n\r\n  const [nameValue, setNameValue] = useState('');\r\n  const [loginValue, setLoginValue] = useState(''); //Логин на форме соответствует e-mail пользователя.\r\n  const [passwordValue, setPasswordValue] = useState('');\r\n\r\n  const onExitLinkClick = (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch(logoutUser());\r\n  }\r\n\r\n  useEffect(() => {\r\n    setNameValue(name);\r\n    setLoginValue(email);\r\n  },\r\n    [name, email]);\r\n\r\n  const onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch(refreshUserData(loginValue, nameValue, passwordValue));\r\n  }\r\n\r\n  const onFormReset = (e) => {\r\n    e.preventDefault();\r\n\r\n    setNameValue(name);\r\n    setLoginValue(email);\r\n    setPasswordValue('');\r\n  }\r\n\r\n\r\n  return (\r\n    <main className={commonStyles.main}>\r\n\r\n      <div className={styles.container}>\r\n\r\n        <div className={`${styles.navContainer} mr-15`}>\r\n          <nav>\r\n            <ul className={styles.list}>\r\n              <li className={styles.listItem}>\r\n                <NavLink\r\n                  to='/profile'\r\n                  exact={true}\r\n                  className={`${styles.navigationLink} text text_type_main-medium text_color_inactive`}\r\n                  activeClassName={commonStyles.navigationLinkActive}>\r\n                  Профиль\r\n                </NavLink>\r\n              </li>\r\n              <li className={styles.listItem}>\r\n                <NavLink\r\n                  to='/profile/orders'\r\n                  exact={true}\r\n                  className={`${styles.navigationLink} text text_type_main-medium text_color_inactive`}\r\n                  activeClassName={commonStyles.navigationLinkActive}>\r\n                  История заказов\r\n                </NavLink>\r\n              </li>\r\n              <li className={styles.listItem}>\r\n                <NavLink\r\n                  to='/login'\r\n                  exact={true}\r\n                  onClick={onExitLinkClick}\r\n                  className={`${styles.navigationLink} text text_type_main-medium text_color_inactive`}\r\n                  activeClassName={commonStyles.navigationLinkActive}>\r\n                  Выход\r\n                </NavLink>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n\r\n          <p className='text text_type_main-default text_color_inactive mt-20'>\r\n            В этом разделе вы можете изменить&nbsp;свои персональные данные\r\n          </p>\r\n        </div>\r\n\r\n        <form onSubmit={onFormSubmit} onReset={onFormReset}>\r\n          <Input\r\n            value={nameValue}\r\n            type={'text'}\r\n            icon={'EditIcon'}\r\n            placeholder={'Имя'}\r\n            onChange={e => setNameValue(e.target.value)}\r\n            extraClass='mb-6'\r\n          />\r\n          <Input\r\n            value={loginValue}\r\n            type={'text'}\r\n            icon={'EditIcon'}\r\n            placeholder={'Логин'}\r\n            onChange={e => setLoginValue(e.target.value)}\r\n            extraClass='mb-6'\r\n          />\r\n          <PasswordInput\r\n            value={passwordValue}\r\n            icon={'EditIcon'}\r\n            onChange={e => setPasswordValue(e.target.value)} />\r\n\r\n          <div className={`${styles.buttonGroup} mt-6`}>\r\n            <Button htmlType=\"reset\" type=\"primary\" size=\"medium\">Отмена</Button>\r\n            <Button htmlType=\"submit\" type=\"primary\" size=\"medium\">Сохранить</Button>\r\n          </div>\r\n\r\n        </form>\r\n\r\n      </div>\r\n\r\n    </main>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './NotFoundPage.module.css';\r\nimport commonStyles from './commonStyles.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport function NotFoundPage() {\r\n\r\n  return (\r\n    <main className={commonStyles.main}>\r\n      <div className={styles.container}>\r\n        <h1 className={`${styles.h1} text text_type_main-large`}>Error</h1>\r\n        <p className={`${styles.p1} text text_type_digits-large`}>404</p>\r\n        <p className={`${styles.p2} text text_type_main-large`}>Page not found!</p>\r\n\r\n        <div className={styles.navigationBlock}>\r\n          <p className='text text_type_main-default text_color_inactive'>\r\n            <Link to=\"/\" className={commonStyles.navigationLink}>Вернуться</Link> на главную страницу\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport commonStyles from './commonStyles.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nexport function OrdersPage() {\r\n  return (\r\n    <main className={commonStyles.main}>\r\n      <div className={commonStyles.container}>\r\n        <h1 className=\"text text_type_main-medium mb-6\">Здесь пока ничего нет...</h1>\r\n\r\n        <div className={`${commonStyles.navigationBlock}`}>\r\n          <p className='text text_type_main-default text_color_inactive'>\r\n            <Link className={commonStyles.navigationLink} to=\"/profile\">Обратно</Link> на страницу профиля\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","import { getAllIngredientsRequest } from '../../utils/api';\r\n\r\nexport const GET_ALL_INGREDIENTS_REQUEST = 'GET_ALL_INGREDIENTS_REQUEST';\r\nexport const GET_ALL_INGREDIENTS_SUCCESS = 'GET_ALL_INGREDIENTS_SUCCESS';\r\nexport const GET_ALL_INGREDIENTS_FAILED = 'GET_ALL_INGREDIENTS_FAILED';\r\n\r\n\r\nexport function getAllIngredients() {\r\n  return function (dispatch) {\r\n    dispatch({ type: GET_ALL_INGREDIENTS_REQUEST });\r\n\r\n    getAllIngredientsRequest().then(res => {\r\n      if (res && res.success) {\r\n        dispatch({\r\n          type: GET_ALL_INGREDIENTS_SUCCESS,\r\n          items: res.data\r\n        });\r\n      } else {\r\n        dispatch({ type: GET_ALL_INGREDIENTS_FAILED });\r\n      }\r\n    });\r\n  };\r\n}\r\n","import orderDetailsStyles from './OrderDetails.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\n\r\nfunction OrderDetails({ orderId, orderStatus, orderInfoMessage }) {\r\n  return (\r\n    <div className={orderDetailsStyles.content}>\r\n      <h3 className={`${orderDetailsStyles.header} text text_type_digits-large mt-4`}>{orderId}</h3>\r\n      <p className='text text_type_main-medium mt-8'>идентификатор заказа</p>\r\n      <div className={`${orderDetailsStyles.image} mt-15`} ></div>\r\n      <p className='text text_type_main-default mt-15'>{orderStatus}</p>\r\n      <p className='text text_type_main-default text_color_inactive mt-2 mb-30'>{orderInfoMessage}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nOrderDetails.propTypes = {\r\n  orderId: PropTypes.string.isRequired,\r\n  orderStatus: PropTypes.string.isRequired,\r\n  orderInfoMessage: PropTypes.string\r\n};\r\n\r\n\r\n\r\nexport default OrderDetails;\r\n","import React, { useEffect } from 'react';\r\nimport appStyles from './App.module.css';\r\nimport AppHeader from '../AppHeader/AppHeader';\r\nimport Modal from '../Modal/Modal';\r\nimport IngredientDetails from '../IngredientDetails/IngredientDetails';\r\nimport { Route, Switch, useHistory, useLocation } from \"react-router-dom\";\r\nimport { ProtectedRoute } from \"../ProtectedRoute/ProtectedRoute\";\r\nimport {\r\n  LoginPage,\r\n  MainPage,\r\n  RegistrationPage,\r\n  ForgotPasswordPage,\r\n  ResetPasswordPage,\r\n  ProfilePage,\r\n  NotFoundPage,\r\n  OrdersPage\r\n} from '../../pages/index';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getUserData } from '../../services/actions/auth';\r\nimport { getAllIngredients } from '../../services/actions/allIngredients';\r\nimport { RESET_MODAL } from '../../services/actions/modal';\r\nimport OrderDetails from '../OrderDetails/OrderDetails';\r\nimport { CONSTRUCTOR_CLEANUP } from '../../services/actions/constructorIngredients';\r\nimport Loader from '../Loader/Loader';\r\n\r\n\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const background = location.state?.background;\r\n\r\n  const { isOpened, content } = useSelector(store => store.modal);\r\n  const { orderData, orderDataRequest } = useSelector(store => store.orderData);\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserData());\r\n  },\r\n    [dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllIngredients())\r\n  }, [dispatch]);\r\n\r\n  const onIngredientModalClose = (background) => {\r\n    dispatch({ type: RESET_MODAL });\r\n    history.replace({ pathname: background.pathname })\r\n  };\r\n\r\n  const onOrderModalClose = () => {\r\n    dispatch({ type: RESET_MODAL });\r\n    if (orderData.success) dispatch({ type: CONSTRUCTOR_CLEANUP });\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <div className={appStyles.page}>\r\n      <AppHeader />\r\n\r\n      <Switch location={background || location}>\r\n        <Route path='/' exact={true}>\r\n          <MainPage />\r\n        </Route>\r\n        <ProtectedRoute path='/login' exact={true} onlyUnAuth={true}>\r\n          <LoginPage />\r\n        </ProtectedRoute>\r\n        <ProtectedRoute path='/register' exact={true} onlyUnAuth={true}>\r\n          <RegistrationPage />\r\n        </ProtectedRoute>\r\n        <ProtectedRoute path='/forgot-password' exact={true} onlyUnAuth={true}>\r\n          <ForgotPasswordPage />\r\n        </ProtectedRoute>\r\n        <ProtectedRoute path='/reset-password' exact={true} onlyUnAuth={true}>\r\n          <ResetPasswordPage />\r\n        </ProtectedRoute>\r\n        <ProtectedRoute path='/profile' exact={true}>\r\n          <ProfilePage />\r\n        </ProtectedRoute>\r\n        <ProtectedRoute path='/profile/orders' exact={true}>\r\n          <OrdersPage />\r\n        </ProtectedRoute>\r\n        <Route path='/ingredients/:id' exact={true}>\r\n          <IngredientDetails />\r\n        </Route>\r\n        <Route>\r\n          <NotFoundPage />\r\n        </Route>\r\n      </Switch>\r\n\r\n      {background &&\r\n        (<Route path='/ingredients/:id'>\r\n          <Modal title='Детали ингредиента' onClose={() => onIngredientModalClose(background)} >\r\n            <IngredientDetails />\r\n          </Modal>\r\n        </Route>)\r\n      }\r\n      {isOpened && (content === 'order') &&\r\n        < Modal onClose={() => onOrderModalClose()} >\r\n          {orderDataRequest ? (<Loader size='superLarge' />) :\r\n            orderData.success ? (\r\n              <OrderDetails\r\n                orderId={orderData.order.number.toString()}\r\n                orderStatus='Ваш заказ начали готовить'\r\n                orderInfoMessage='Дождитесь готовности на орбитальной станции'\r\n              />) : (\r\n              <OrderDetails\r\n                orderId=''\r\n                orderStatus='В процессе оформления заказа возникла ошибка'\r\n                orderInfoMessage='Попробуйте оформить заказ позже'\r\n              />\r\n            )}\r\n        </Modal>}\r\n    </div >\r\n  );\r\n}\r\n","import {\r\n  GET_ALL_INGREDIENTS_REQUEST,\r\n  GET_ALL_INGREDIENTS_SUCCESS,\r\n  GET_ALL_INGREDIENTS_FAILED\r\n} from '../actions/allIngredients';\r\n\r\n\r\nconst initialState = {\r\n  allIngredients: [],\r\n  allIngredientsRequest: false,\r\n  allIngredientsFailed: false\r\n};\r\n\r\n\r\n\r\nexport const allIngredientsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_ALL_INGREDIENTS_REQUEST: {\r\n      return {\r\n        ...state,\r\n        allIngredientsRequest: true\r\n      }\r\n    }\r\n    case GET_ALL_INGREDIENTS_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        allIngredientsRequest: false,\r\n        allIngredientsFailed: false,\r\n        allIngredients: action.items\r\n      }\r\n    }\r\n    case GET_ALL_INGREDIENTS_FAILED: {\r\n      return {\r\n        ...state,\r\n        allIngredientsRequest: false,\r\n        allIngredientsFailed: true\r\n      }\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  };\r\n};\r\n","import {\r\n  ADD_BUN_TO_CONSTRUCTOR,\r\n  ADD_STUFFING_ELEMENT_TO_CONSTRUCTOR,\r\n  DELETE_STUFFING_ELEMENT_FROM_CONSTRUCTOR,\r\n  REORDER_STUFFING_ELEMENTS,\r\n  CONSTRUCTOR_CLEANUP\r\n} from '../actions/constructorIngredients';\r\n\r\n\r\nconst initialState = {\r\n  bun: {},\r\n  stuffing: []\r\n};\r\n\r\n\r\n\r\nexport const constructorIngredientsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_BUN_TO_CONSTRUCTOR: {\r\n      return {\r\n        ...state,\r\n        bun: action.payload\r\n      }\r\n    }\r\n    case ADD_STUFFING_ELEMENT_TO_CONSTRUCTOR: {\r\n      return {\r\n        ...state,\r\n        stuffing: [...state.stuffing, action.payload]\r\n      }\r\n    }\r\n    case DELETE_STUFFING_ELEMENT_FROM_CONSTRUCTOR: {\r\n      return {\r\n        ...state,\r\n        stuffing: [...state.stuffing].filter(item => item.id !== action.id)\r\n      }\r\n    }\r\n    case REORDER_STUFFING_ELEMENTS: {\r\n      const reorderStuffing = [...state.stuffing];\r\n\r\n      reorderStuffing.splice(\r\n        action.dragIndex,\r\n        0,\r\n        reorderStuffing.splice(action.dropIndex, 1)[0]\r\n      );\r\n\r\n      return {\r\n        ...state,\r\n        stuffing: reorderStuffing\r\n      }\r\n    }\r\n    case CONSTRUCTOR_CLEANUP: {\r\n      return initialState;\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  };\r\n};\r\n","import {\r\n  GET_ORDER_DATA_REQUEST,\r\n  GET_ORDER_DATA_SUCCESS,\r\n  GET_ORDER_DATA_FAILED\r\n} from '../actions/orderData';\r\n\r\nconst initialState = {\r\n  orderData: {\r\n    name: \"\",\r\n    order: {\r\n      number: null,\r\n    },\r\n    success: false\r\n  },\r\n  orderDataRequest: false\r\n};\r\n\r\n\r\n\r\nexport const orderDataReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_ORDER_DATA_REQUEST: {\r\n      return {\r\n        ...state,\r\n        orderDataRequest: true\r\n      };\r\n    }\r\n    case GET_ORDER_DATA_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        orderDataRequest: false,\r\n        orderData: action.payload\r\n      };\r\n    }\r\n    case GET_ORDER_DATA_FAILED: {\r\n      return initialState;\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  };\r\n};\r\n","import {\r\n  REGISTRATION_USER_REQUEST,\r\n  REGISTRATION_USER_SUCCESS,\r\n  REGISTRATION_USER_FAILED,\r\n  LOGIN_USER_REQUEST,\r\n  LOGIN_USER_SUCCESS,\r\n  LOGIN_USER_FAILED,\r\n  LOGOUT_USER_REQUEST,\r\n  LOGOUT_USER_SUCCESS,\r\n  LOGOUT_USER_FAILED,\r\n  FORGOT_PASSWORD_REQUEST,\r\n  FORGOT_PASSWORD_SUCCESS,\r\n  FORGOT_PASSWORD_FAILED,\r\n  RESET_PASSWORD_REQUEST,\r\n  RESET_PASSWORD_SUCCESS,\r\n  RESET_PASSWORD_FAILED,\r\n  GET_USERDATA_REQUEST,\r\n  GET_USERDATA_SUCCESS,\r\n  GET_USERDATA_FAILED,\r\n  REFRESH_USERDATA_REQUEST,\r\n  REFRESH_USERDATA_SUCCESS,\r\n  REFRESH_USERDATA_FAILED,\r\n  UPDATE_TOKEN_REQUEST,\r\n  UPDATE_TOKEN_SUCCESS,\r\n  UPDATE_TOKEN_FAILED\r\n} from '../actions/auth';\r\nimport { setCookie, deleteCookie } from '../../utils/cookie';\r\n\r\nconst initialState = {\r\n  user: null,\r\n  registrationRequest: false,\r\n  registrationFailed: false,\r\n  registrationFailedMessage: '',\r\n  loginRequest: false,\r\n  loginFailed: false,\r\n  loginFailedMessage: '',\r\n  logoutRequest: false,\r\n  logoutFailed: false,\r\n  logoutFailedMessage: '',\r\n  forgotPasswordRequest: false,\r\n  forgotPasswordFailed: false,\r\n  forgotPasswordMessage: '',\r\n  resetPasswordRequest: false,\r\n  resetPasswordFailed: false,\r\n  resetPasswordMessage: '',\r\n  getUserDataRequest: false,\r\n  getUserDataFailed: false,\r\n  getUserDataMessage: '',\r\n  refreshUserDataRequest: false,\r\n  refreshUserDataFailed: false,\r\n  refreshUserDataMessage: '',\r\n  updateTokenRequest: false,\r\n  updateTokenFailed: false,\r\n  updateTokenMessage: '',\r\n  isPasswordRecoveryEmailReceived: false,\r\n  isResetPasswordSuccess: false\r\n};\r\n\r\n\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case REGISTRATION_USER_REQUEST: {\r\n      return {\r\n        ...state,\r\n        registrationRequest: true\r\n      }\r\n    }\r\n    case REGISTRATION_USER_SUCCESS: {\r\n      const { user, accessToken, refreshToken } = action.payload;\r\n\r\n      setCookie('token', accessToken.split('Bearer ')[1]);\r\n      localStorage.setItem('refreshToken', refreshToken);\r\n      console.log('Registration success!');\r\n\r\n      return {\r\n        ...state,\r\n        registrationRequest: false,\r\n        registrationFailed: false,\r\n        registrationFailedMessage: '',\r\n        user: user\r\n      }\r\n    }\r\n    case REGISTRATION_USER_FAILED: {\r\n      return {\r\n        ...state,\r\n        registrationRequest: false,\r\n        registrationFailed: true,\r\n        registrationFailedMessage: action.payload\r\n      }\r\n    }\r\n    case LOGIN_USER_REQUEST: {\r\n      return {\r\n        ...state,\r\n        loginRequest: true\r\n      }\r\n    }\r\n    case LOGIN_USER_SUCCESS: {\r\n      const { user, accessToken, refreshToken } = action.payload;\r\n\r\n      setCookie('token', accessToken.split('Bearer ')[1]);\r\n      localStorage.setItem('refreshToken', refreshToken);\r\n      console.log('Login success!');\r\n\r\n      return {\r\n        ...state,\r\n        loginRequest: false,\r\n        loginFailed: false,\r\n        loginFailedMessage: '',\r\n        user: user\r\n      }\r\n    }\r\n    case LOGIN_USER_FAILED: {\r\n      return {\r\n        ...state,\r\n        loginRequest: false,\r\n        loginFailed: true,\r\n        loginFailedMessage: action.payload\r\n      }\r\n    }\r\n    case LOGOUT_USER_REQUEST: {\r\n      return {\r\n        ...state,\r\n        logoutRequest: true\r\n      }\r\n    }\r\n    case LOGOUT_USER_SUCCESS: {\r\n      deleteCookie('token');\r\n      localStorage.removeItem('refreshToken');\r\n      console.log('Logout success!');\r\n\r\n      return {\r\n        ...state,\r\n        logoutRequest: false,\r\n        logoutFailed: false,\r\n        logoutFailedMessage: '',\r\n        user: initialState.user\r\n      }\r\n    }\r\n    case LOGOUT_USER_FAILED: {\r\n      return {\r\n        ...state,\r\n        logoutRequest: false,\r\n        logoutFailed: true,\r\n        logoutFailedMessage: action.payload\r\n      }\r\n    }\r\n    case FORGOT_PASSWORD_REQUEST: {\r\n      return {\r\n        ...state,\r\n        forgotPasswordRequest: true\r\n      }\r\n    }\r\n    case FORGOT_PASSWORD_SUCCESS: {\r\n      const { message } = action.payload;\r\n      console.log('Password recovery sucess : ', message);\r\n\r\n      return {\r\n        ...state,\r\n        forgotPasswordRequest: false,\r\n        forgotPasswordFailed: false,\r\n        forgotPasswordMessage: message,\r\n        isPasswordRecoveryEmailReceived: true\r\n      }\r\n    }\r\n    case FORGOT_PASSWORD_FAILED: {\r\n      return {\r\n        ...state,\r\n        forgotPasswordRequest: false,\r\n        forgotPasswordFailed: true,\r\n        forgotPasswordMessage: action.payload\r\n      }\r\n    }\r\n    case RESET_PASSWORD_REQUEST: {\r\n      return {\r\n        ...state,\r\n        resetPasswordRequest: true\r\n      }\r\n    }\r\n    case RESET_PASSWORD_SUCCESS: {\r\n      const { message } = action.payload;\r\n      console.log('Password reset sucess : ', message);\r\n\r\n      return {\r\n        ...state,\r\n        resetPasswordRequest: false,\r\n        resetPasswordFailed: false,\r\n        resetPasswordMessage: message,\r\n        isPasswordRecoveryEmailReceived: false,\r\n        isResetPasswordSuccess: true\r\n      }\r\n    }\r\n    case RESET_PASSWORD_FAILED: {\r\n      return {\r\n        ...state,\r\n        resetPasswordRequest: false,\r\n        resetPasswordFailed: true,\r\n        resetPasswordMessage: action.payload\r\n      }\r\n    }\r\n    case GET_USERDATA_REQUEST: {\r\n      return {\r\n        ...state,\r\n        getUserDataRequest: true\r\n      }\r\n    }\r\n    case GET_USERDATA_SUCCESS: {\r\n      const { user } = action.payload;\r\n      console.log('User data received successfully!');\r\n\r\n      return {\r\n        ...state,\r\n        getUserDataRequest: false,\r\n        getUserDataFailed: false,\r\n        getUserDataMessage: '',\r\n        user: user\r\n      }\r\n    }\r\n    case GET_USERDATA_FAILED: {\r\n      return {\r\n        ...state,\r\n        getUserDataRequest: false,\r\n        getUserDataFailed: true,\r\n        getUserDataMessage: action.payload\r\n      }\r\n    }\r\n    case REFRESH_USERDATA_REQUEST: {\r\n      return {\r\n        ...state,\r\n        refreshUserDataRequest: true\r\n      }\r\n    }\r\n    case REFRESH_USERDATA_SUCCESS: {\r\n      const { user } = action.payload;\r\n      console.log('User data refreshed successfully!');\r\n\r\n      return {\r\n        ...state,\r\n        refreshUserDataRequest: false,\r\n        refreshUserDataFailed: false,\r\n        refreshUserDataMessage: '',\r\n        user: user\r\n      }\r\n    }\r\n    case REFRESH_USERDATA_FAILED: {\r\n      return {\r\n        ...state,\r\n        refreshUserDataRequest: false,\r\n        refreshUserDataFailed: true,\r\n        refreshUserDataMessage: action.payload\r\n      }\r\n    }\r\n    case UPDATE_TOKEN_REQUEST: {\r\n      return {\r\n        ...state,\r\n        updateTokenRequest: true\r\n      }\r\n    }\r\n    case UPDATE_TOKEN_SUCCESS: {\r\n      const { accessToken, refreshToken } = action.payload;\r\n\r\n      setCookie('token', accessToken.split('Bearer ')[1]);\r\n      localStorage.setItem('refreshToken', refreshToken);\r\n      console.log('Access and refresh tokens update successfully!');\r\n\r\n      return {\r\n        ...state,\r\n        updateTokenRequest: false,\r\n        updateTokenFailed: false,\r\n        updateTokenMessage: ''\r\n      }\r\n    }\r\n    case UPDATE_TOKEN_FAILED: {\r\n      return {\r\n        ...state,\r\n        updateTokenRequest: false,\r\n        updateTokenFailed: true,\r\n        updateTokenMessage: action.payload\r\n      }\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  };\r\n};\r\n","import { SET_MODAL, RESET_MODAL } from '../actions/modal';\r\n\r\n\r\nconst initialState = {\r\n  isOpened: false,\r\n  content: ''\r\n};\r\n\r\n\r\n\r\nexport const modalReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_MODAL: {\r\n      return {\r\n        isOpened: true,\r\n        content: action.payload.content\r\n      }\r\n    }\r\n    case RESET_MODAL: {\r\n      return initialState;\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  };\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { allIngredientsReducer } from './allIngredients';\r\nimport { constructorIngredientsReducer } from './constructorIngredients';\r\nimport { orderDataReducer } from './orderData';\r\nimport { authReducer } from './auth';\r\nimport { modalReducer } from './modal';\r\n\r\n\r\nexport const rootReducer = combineReducers({\r\n  allIngredients: allIngredientsReducer,\r\n  constructorIngredients: constructorIngredientsReducer,\r\n  orderData: orderDataReducer,\r\n  auth: authReducer,\r\n  modal: modalReducer\r\n});\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport { compose, createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\nimport { rootReducer } from './services/reducers/index';\r\n\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nconst composeEnhancers =\r\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ && process.env.NODE_ENV !== 'development'\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n    : compose;\r\n\r\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\r\n\r\nconst store = createStore(rootReducer, enhancer);\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </BrowserRouter>\r\n  </React.StrictMode>\r\n  , document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppHeader_header__1w2x_\",\"content\":\"AppHeader_content__182-B\",\"list\":\"AppHeader_list__1QMOZ\",\"link\":\"AppHeader_link__26-ny\",\"activeLink\":\"AppHeader_activeLink__3fBHo\",\"personalCab\":\"AppHeader_personalCab__Fwkkn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfilePage_container__1UMEH\",\"navContainer\":\"ProfilePage_navContainer__YnCae\",\"list\":\"ProfilePage_list__D5qN5\",\"listItem\":\"ProfilePage_listItem__2-XnT\",\"navigationLink\":\"ProfilePage_navigationLink__2SxEO\",\"buttonGroup\":\"ProfilePage_buttonGroup__151q2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"BurgerIngredients_section__rc4KB\",\"tabs\":\"BurgerIngredients_tabs__2hjFG\",\"link\":\"BurgerIngredients_link__1E9e9\",\"categoryList\":\"BurgerIngredients_categoryList__17zy_\",\"ingredientsList\":\"BurgerIngredients_ingredientsList__q4bP7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"BurgerConstructor_section__1fTRd\",\"positionsList\":\"BurgerConstructor_positionsList__3EIZl\",\"hoveredList\":\"BurgerConstructor_hoveredList__wgO8l\",\"lockedPosition\":\"BurgerConstructor_lockedPosition__1gK-r\",\"chosenPositionsList\":\"BurgerConstructor_chosenPositionsList__2DB1h\",\"chosenPositionsList_overflowY_scroll\":\"BurgerConstructor_chosenPositionsList_overflowY_scroll__IV9LI\",\"chosenPositionsList_overflowY_hidden\":\"BurgerConstructor_chosenPositionsList_overflowY_hidden__3y7d-\",\"infoGroup\":\"BurgerConstructor_infoGroup__kBo-o\",\"priceGroup\":\"BurgerConstructor_priceGroup__1rqyS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"IngredientDetails_content__1Qe9B\",\"image\":\"IngredientDetails_image__VTrN3\",\"propertiesList\":\"IngredientDetails_propertiesList__2tsBn\",\"propertiesListItem\":\"IngredientDetails_propertiesListItem__3cPGv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"NotFoundPage_container__2Tc-N\",\"h1\":\"NotFoundPage_h1__1_WuP\",\"p1\":\"NotFoundPage_p1__7dYV7\",\"p2\":\"NotFoundPage_p2__1S6fR\",\"navigationBlock\":\"NotFoundPage_navigationBlock__9gFy6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Ingredient_content__ToxGT\",\"image\":\"Ingredient_image__JcbXo\",\"priceGroup\":\"Ingredient_priceGroup__1m-_n\",\"link\":\"Ingredient_link__1zf1S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"commonStyles_main__3O8kT\",\"container\":\"commonStyles_container__N6aN1\",\"form\":\"commonStyles_form__2LjOp\",\"navigationBlock\":\"commonStyles_navigationBlock__h5qm7\",\"navigationLink\":\"commonStyles_navigationLink__2DSKl\",\"navigationLinkActive\":\"commonStyles_navigationLinkActive__yz6g-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalContainer\":\"Modal_modalContainer__3vzLN\",\"titleButtonGroup\":\"Modal_titleButtonGroup__7CBVz\",\"closeButton\":\"Modal_closeButton__3JRA0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"OrderDetails_content__E2x48\",\"header\":\"OrderDetails_header__rQ-ME\",\"image\":\"OrderDetails_image__1SZ6-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"BurgerConstructorItem_listItem__1abez\",\"hoveredItem\":\"BurgerConstructorItem_hoveredItem__2OOO4\"};"],"sourceRoot":""}